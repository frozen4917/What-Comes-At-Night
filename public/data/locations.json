{
    "campsite": {
        "name": "The Campsite",
        "description_ref": "loc_desc_campsite",
        "menu": [
            {
                "category": "MOVE",
                "subActions": [
                    {
                        "id": "move_to_graveyard",
                        "text_ref": "action_text_move_to_graveyard",
                        "showIf": [ { "hordeLocationNotIn": ["campsite", "campGate", "cabin"] }, { "minStamina": 7 } ],
                        "effects": { 
                            "setLocation": "graveyard",
                            "changeStat": { "stamina": -7, "noise": 3 }
                        }
                    },
                    {
                        "id": "move_to_cabin",
                        "text_ref": "action_text_move_to_cabin",
                        "showIf": [ { "hordeLocationNotIn": ["cabin"] }, { "minStamina": 3 } ],
                        "effects": { 
                            "setLocation": "cabin",
                            "changeStat": { "stamina": -3, "noise": 1 }
                        }
                    }
                ]
            },
            {
                "category": "FORTIFY",
                "subActions": [
                    {
                        "id": "fortify_campGate",
                        "text_ref": "action_text_fortify_campGate",
                        "showIf": [ { "hasItem": "wood" }, { "hordeLocationNotIn": ["campsite", "cabin"] }, { "minStamina": 12 } ],
                        "effects": { 
                            "changeStat": { "campGate": 20, "stamina": -12, "noise": 10 }, 
                            "removeItem": "wood",
                            "result_ref": "outcome_fortify_campGate"
                        }
                    }
                ]
            },
            {
                "category": "REST & HIDE",
                "subActions": [
                    {
                        "id": "rest_by_fire",
                        "text_ref": "action_text_rest_by_fire",
                        "showIf": [ { "hordeLocationNotIn": ["campsite", "cabin"] } ],
                        "effects": { 
                            "changeStat": { "stamina": 30, "noise": -8 },
                            "result_ref": "outcome_rest_by_fire"
                        }
                    },
                    {
                        "id": "hide_in_tents",
                        "text_ref": "action_text_hide_in_tents",
                        "showIf": [ { "gameModeIs": "combat_lone" }, { "hordeAtPlayerLocation": false } ],
                        "effects": { 
                            "changeStat": { "noise": -15 }, 
                            "setPlayerState": "hiding",
                            "result_ref": "outcome_hide_in_tents"
                        }
                    }
                ]
            },
            {
                "category": "GATHER",
                "subActions": [
                    {
                        "id": "search_rec_tent",
                        "text_ref": "action_text_search_rec_tent",
                        "showIf": [ { "notScavenged": "search_rec_tent"}, { "minStamina": 6 } ],
                        "effects": {
                            "addItems": { "baseball_bat": 1, "bow": 1, "arrow": 5 },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "addScavengedFlag": "search_rec_tent",
                            "result_ref": "outcome_search_rec_tent"
                        }
                    },
                    {
                        "id": "search_woods",
                        "text_ref": "action_text_search_woods",
                        "showIf": [ { "notScavenged": "search_woods" }, { "hordeLocationNotIn": ["cabin", "campsite", "campGate"] }, { "minStamina": 6 } ],
                        "effects": {
                            "addItems": { "mushrooms": 4, "garlic": 2, "wood": 2 },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "addScavengedFlag": "search_woods",
                            "setToFalse": "woods_not_searched",
                            "result_ref": "outcome_search_woods"
                        }
                    },
                    {
                        "id": "search_woods_again",
                        "text_ref": "action_text_search_woods_again",
                        "showIf": [ { "flagIsFalse": "woods_not_searched" }, { "hordeLocationNotIn": ["cabin", "campsite", "campGate"] }, { "minStamina": 6 } ],
                        "effects": {
                            "addRandomItems": { "wood": { "min": 1, "max": 3 } },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "result_ref": "outcome_search_woods_again"
                        }
                    },
                    {
                        "id": "search_food_tent",
                        "text_ref": "action_text_search_food_tent",
                        "showIf": [ { "notScavenged": "search_food_tent" }, { "minStamina": 6 } ],
                        "effects": {
                            "addItems": { "canned_food": 2, "bottle": 1, "salt": 2 },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "addScavengedFlag": "search_food_tent",
                            "result_ref": "outcome_search_food_tent"
                        }
                    },
                    {
                        "id": "search_utility_tent",
                        "text_ref": "action_text_search_utility_tent",
                        "showIf": [ { "notScavenged": "search_utility_tent" }, { "minStamina": 6 } ],
                        "effects": {
                            "addItems": { "bandages": 2, "rag": 1 },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "addScavengedFlag": "search_utility_tent",
                            "result_ref": "outcome_search_utility_tent"
                        }
                    },
                    {
                        "id": "search_pier",
                        "text_ref": "action_text_search_pier",
                        "showIf": [ { "notScavenged": "search_pier" }, { "minStamina": 6 } ],
                        "effects": {
                            "addItems": { "twine": 2, "net": 2 },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "addScavengedFlag": "search_pier",
                            "result_ref": "outcome_search_pier"
                        }
                    }
                ]
            },
            {
                "category": "INTERACT & USE",
                "subActions": [
                    {
                        "id": "set_trap_campGate",
                        "text_ref": "action_text_set_trap_campGate",
                        "showIf": [ { "hasItems": { "net": 1, "wood": 1 } }, { "hordeLocationNotIn": ["campGate", "campsite", "cabin"] }, { "minStamina": 8 } ],
                        "effects": { 
                            "addTrap": "campGate",
                            "changeStat": { "stamina": -8, "noise": 6 },
                            "result_ref": "outcome_set_trap_campGate"
                        }
                    },
                    {
                        "id": "cook_mushrooms",
                        "text_ref": "action_text_cook_mushrooms",
                        "showIf": [ { "hasItems": { "mushrooms": 2 } }, { "minStamina": 1 } ],
                        "effects": { 
                            "craft": "cooked_mushrooms", 
                            "changeStat": { "stamina": -1, "noise": -3 },
                            "result_ref": "outcome_cook_mushrooms" 
                        }
                    }
                ]
            }
        ]
    },

    "cabin": {
        "name": "The Cabin",
        "description_ref": "loc_desc_cabin",
        "menu": [
            {
                "category": "MOVE",
                "subActions": [
                    {
                        "id": "move_to_campsite",
                        "text_ref": "action_text_move_to_campsite",
                        "showIf": [ { "hordeLocationNotIn": ["cabin", "campsite"] }, { "minStamina": 3 } ],
                        "effects": { 
                            "setLocation": "campsite",
                            "changeStat": { "stamina": -3, "noise": 1 }
                        }
                    }
                ]
            },
            {
                "category": "FORTIFY",
                "subActions": [
                    {
                        "id": "fortify_cabin",
                        "text_ref": "action_text_fortify_cabin",
                        "showIf": [ { "hasItem": "wood" }, { "hordeLocationNotIn": ["cabin"] }, { "minStamina": 12 } ],
                        "effects": { 
                            "changeStat": { "cabin": 30, "stamina": -12, "noise": 10 }, 
                            "removeItem": "wood", 
                            "result_ref": "outcome_fortify_cabin" 
                        }
                    }
                ]
            },
            {
                "category": "REST & HIDE",
                "subActions": [
                    {
                        "id": "rest_in_cabin",
                        "text_ref": "action_text_rest_in_cabin",
                        "showIf": [ { "hordeLocationNotIn": ["cabin"] } ],
                        "effects": { 
                            "changeStat": { "stamina": 30, "noise": -8 },
                            "result_ref": "outcome_rest_in_cabin"
                        }
                    }, 
                    {
                        "id": "hide_in_cabin",
                        "text_ref": "action_text_hide_in_cabin",
                        "showIf": [ { "gameModeIs": "combat_lone" }, { "hordeAtPlayerLocation": false } ],
                        "effects": { 
                            "changeStat": { "noise": -15 }, 
                            "setPlayerState": "hiding",
                            "result_ref": "outcome_hide_in_cabin"
                        }
                    }
                ]
            }, 
            {
                "category": "GATHER",
                "subActions": [
                    {
                        "id": "search_cabin_items",
                        "text_ref": "action_text_search_cabin_items",
                        "showIf": [ { "notScavenged": "search_cabin_items" }, { "minStamina": 6 } ],
                        "effects": {
                            "addItems": { "first_aid_kit": 1, "fuel": 1 },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "addScavengedFlag": "search_cabin_items",
                            "result_ref": "outcome_search_cabin_items"
                        }
                    }
                ]
            }
        ]
    },

    "graveyard": {
        "name": "The Graveyard",
        "description_ref": "loc_desc_graveyard",
        "menu": [
            {
                "category": "MOVE",
                "subActions": [
                    {
                        "id": "move_to_campsite",
                        "text_ref": "action_text_move_to_campsite",
                        "showIf": [ { "hordeLocationNotIn": ["graveyard", "graveyardGate"] }, { "minStamina": 7 } ],
                        "effects": { 
                            "setLocation": "campsite",
                            "changeStat": { "stamina": -7, "noise": 3 }
                        }
                    }
                ]
            },
            {
                "category": "FORTIFY",
                "subActions": [
                    {
                        "id": "fortify_graveyardGate",
                        "text_ref": "action_text_fortify_graveyardGate",
                        "showIf": [ { "hasItem": "wood" }, { "hordeLocationNotIn": ["graveyard"] }, { "minStamina": 12 } ],
                        "effects": { 
                            "changeStat": { "graveyardGate": 30, "stamina": -12, "noise": 10 }, 
                            "removeItem": "wood",
                            "result_ref": "outcome_fortify_graveyardGate"
                        }
                    }
                ]
            },
            {
                "category": "REST & HIDE",
                "subActions": [
                    {
                        "id": "hide_in_hut",
                        "text_ref": "action_text_hide_in_hut",
                        "showIf": [ { "gameModeIs": "combat_lone" }, { "hordeAtPlayerLocation": false } ],
                        "effects": { 
                            "changeStat": { "noise": -15 }, 
                            "setPlayerState": "hiding",
                            "result_ref": "outcome_hide_in_hut"
                        }
                    }
                ]
            },
            {
                "category": "GATHER",
                "subActions": [
                    {
                        "id": "gather_rowan_tree",
                        "text_ref": "action_text_gather_rowan_tree",
                        "showIf": [ { "notScavenged": "gather_rowan_tree" }, { "minStamina": 6 } ],
                        "effects": {
                            "addItems": { "rowan_berries": 2 },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "addScavengedFlag": "gather_rowan_tree",
                            "result_ref": "outcome_gather_rowan_tree"
                        }
                    },
                    {
                        "id": "search_gravekeepers_hut",
                        "text_ref": "action_text_search_gravekeepers_hut",
                        "showIf": [ { "notScavenged": "search_gravekeepers_hut" }, { "minStamina": 6 } ],
                        "effects": {
                            "addItems": { "shed_key": 1, "bandages": 2 },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "addScavengedFlag": "search_gravekeepers_hut",
                            "setToFalse": "shed_locked",
                            "result_ref": "outcome_search_gravekeepers_hut"
                        }
                    },
                    {
                        "id": "search_shed",
                        "text_ref": "action_text_search_shed",
                        "showIf": [ { "notScavenged": "search_shed" }, { "flagIsFalse": "shed_locked" }, { "hasItem": "shed_key" }, { "minStamina": 6 } ],
                        "effects": {
                            "addItems": { "axe": 1 },
                            "changeStat": { "stamina": -6, "noise": 4 },
                            "addScavengedFlag": "search_shed",
                            "result_ref": "outcome_search_shed"
                        }
                    }
                ]
            },
            {
                "category": "INTERACT & USE",
                "subActions": [
                    {
                        "id": "set_trap_graveyardGate",
                        "text_ref": "action_text_set_trap_graveyardGate",
                        "showIf": [ { "hasItems": { "net": 1, "wood": 1 } }, { "hordeLocationNotIn": ["graveyardGate", "graveyard"] }, { "minStamina": 8 } ],
                        "effects": { 
                            "addTrap": "graveyardGate",
                            "changeStat": { "stamina": -8, "noise": 6 },
                            "result_ref": "outcome_set_trap_graveyardGate" 
                        }
                    }
                ]
            }
        ]
    }
}